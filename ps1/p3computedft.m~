function [ T ] = p3computedft( M )

    N = size(M,1);
    normN = sqrt(N);
    
    x = 0:N-1;
    y = 0:N-1;
    
    F = zeros(N,N);
    
    for i = 1:N
        for j = 1:N
            inner_part = (x(i) * y(j) * 2 * pi) / N;
            cos_part = cos(inner_part);
            sin_part = i * sin(inner_part);
            F(i,j) = (1 / normN) * (cos_part + sin_part);
        end
    end
    
    F_ = fft(eye(size(M,1)));

%     F = fft(eye(size(M,1)));
    T = F * M * F;
    
end

